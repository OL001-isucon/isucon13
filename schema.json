{"name":"isucon","desc":"","tables":[{"name":"icons","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":null,"comment":"","extra_def":"auto_increment"},{"name":"user_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"image","type":"longblob","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"icons","columns":["id"],"comment":""},{"name":"user_id_idx","def":"UNIQUE KEY user_id_idx (user_id) USING BTREE","table":"icons","columns":["user_id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"icons","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""},{"name":"user_id_idx","type":"UNIQUE","def":"UNIQUE KEY user_id_idx (user_id)","table":"icons","referenced_table":null,"columns":["user_id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `icons` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `user_id` bigint NOT NULL,\n  `image` longblob NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `user_id_idx` (`user_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin"},{"name":"livecomment_reports","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":null,"comment":"","extra_def":"auto_increment"},{"name":"user_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"livestream_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"livecomment_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"bigint","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"livecomment_reports","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"livecomment_reports","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `livecomment_reports` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `user_id` bigint NOT NULL,\n  `livestream_id` bigint NOT NULL,\n  `livecomment_id` bigint NOT NULL,\n  `created_at` bigint NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin"},{"name":"livecomments","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":null,"comment":"","extra_def":"auto_increment"},{"name":"user_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"livestream_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"comment","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"tip","type":"bigint","nullable":false,"default":"0","comment":""},{"name":"created_at","type":"bigint","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"livecomments","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"livecomments","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `livecomments` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `user_id` bigint NOT NULL,\n  `livestream_id` bigint NOT NULL,\n  `comment` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,\n  `tip` bigint NOT NULL DEFAULT '0',\n  `created_at` bigint NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin"},{"name":"livestream_tags","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":null,"comment":"","extra_def":"auto_increment"},{"name":"livestream_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"tag_id","type":"bigint","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"idx_livestream_id","def":"KEY idx_livestream_id (livestream_id) USING BTREE","table":"livestream_tags","columns":["livestream_id"],"comment":""},{"name":"idx_tag_id","def":"KEY idx_tag_id (tag_id) USING BTREE","table":"livestream_tags","columns":["tag_id"],"comment":""},{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"livestream_tags","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"livestream_tags","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `livestream_tags` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `livestream_id` bigint NOT NULL,\n  `tag_id` bigint NOT NULL,\n  PRIMARY KEY (`id`),\n  KEY `idx_livestream_id` (`livestream_id`),\n  KEY `idx_tag_id` (`tag_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin"},{"name":"livestream_viewers_history","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":null,"comment":"","extra_def":"auto_increment"},{"name":"user_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"livestream_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"bigint","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"livestream_viewers_history","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"livestream_viewers_history","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `livestream_viewers_history` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `user_id` bigint NOT NULL,\n  `livestream_id` bigint NOT NULL,\n  `created_at` bigint NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin"},{"name":"livestreams","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":null,"comment":"","extra_def":"auto_increment"},{"name":"user_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"title","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"description","type":"text","nullable":false,"default":null,"comment":""},{"name":"playlist_url","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"thumbnail_url","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"start_at","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"end_at","type":"bigint","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"livestreams","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"livestreams","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `livestreams` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `user_id` bigint NOT NULL,\n  `title` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,\n  `description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,\n  `playlist_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,\n  `thumbnail_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,\n  `start_at` bigint NOT NULL,\n  `end_at` bigint NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin"},{"name":"ng_words","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":null,"comment":"","extra_def":"auto_increment"},{"name":"user_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"livestream_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"word","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"bigint","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"ng_words_word","def":"KEY ng_words_word (word) USING BTREE","table":"ng_words","columns":["word"],"comment":""},{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"ng_words","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"ng_words","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `ng_words` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `user_id` bigint NOT NULL,\n  `livestream_id` bigint NOT NULL,\n  `word` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,\n  `created_at` bigint NOT NULL,\n  PRIMARY KEY (`id`),\n  KEY `ng_words_word` (`word`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin"},{"name":"reactions","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":null,"comment":"","extra_def":"auto_increment"},{"name":"user_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"livestream_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"emoji_name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"bigint","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"lid_cat_desc","def":"KEY lid_cat_desc (livestream_id, created_at) USING BTREE","table":"reactions","columns":["livestream_id","created_at"],"comment":""},{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"reactions","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"reactions","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `reactions` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `user_id` bigint NOT NULL,\n  `livestream_id` bigint NOT NULL,\n  `emoji_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,\n  `created_at` bigint NOT NULL,\n  PRIMARY KEY (`id`),\n  KEY `lid_cat_desc` (`livestream_id`,`created_at` DESC)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin"},{"name":"reservation_slots","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":null,"comment":"","extra_def":"auto_increment"},{"name":"slot","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"start_at","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"end_at","type":"bigint","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"reservation_slots","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"reservation_slots","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `reservation_slots` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `slot` bigint NOT NULL,\n  `start_at` bigint NOT NULL,\n  `end_at` bigint NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin"},{"name":"tags","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":null,"comment":"","extra_def":"auto_increment"},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"tags","columns":["id"],"comment":""},{"name":"uniq_tag_name","def":"UNIQUE KEY uniq_tag_name (name) USING BTREE","table":"tags","columns":["name"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"tags","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""},{"name":"uniq_tag_name","type":"UNIQUE","def":"UNIQUE KEY uniq_tag_name (name)","table":"tags","referenced_table":null,"columns":["name"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `tags` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `uniq_tag_name` (`name`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin"},{"name":"themes","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":null,"comment":"","extra_def":"auto_increment"},{"name":"user_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"dark_mode","type":"tinyint(1)","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"themes","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"themes","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `themes` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `user_id` bigint NOT NULL,\n  `dark_mode` tinyint(1) NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin"},{"name":"users","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":null,"comment":"","extra_def":"auto_increment"},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"display_name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"password","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"description","type":"text","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"users","columns":["id"],"comment":""},{"name":"uniq_user_name","def":"UNIQUE KEY uniq_user_name (name) USING BTREE","table":"users","columns":["name"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"users","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""},{"name":"uniq_user_name","type":"UNIQUE","def":"UNIQUE KEY uniq_user_name (name)","table":"users","referenced_table":null,"columns":["name"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `users` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,\n  `display_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,\n  `password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,\n  `description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `uniq_user_name` (`name`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin"}],"relations":[],"functions":[],"driver":{"name":"mysql","database_version":"8.2.0","meta":{"dict":{"Functions":"Stored procedures and functions"}}}}
